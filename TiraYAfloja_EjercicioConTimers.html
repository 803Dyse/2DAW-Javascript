<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <table align="center" style="margin-top: 100px;">
        <tr>
            <td><b>player1</b></td>
            <td><input type="text" id="timerResult"></td>
            <td><b>player2</b></td>
        </tr>
        <tr>
            <td colspan="3" id="result"></td>
        </tr>
        <tr>
            <td colspan="3" align="center">
                <button onclick="clearInterval(player1), clearInterval(player2)">Parar</button>
            </td>
        </tr>
    </table>
    <!--
Ejercicio Tira Y Afloja:
    Vas a printear jugador1 a la izquierda y jugador2 a la derecha. jugador1 para ganar tiene que llegar a -5 y jugador2 llegará a 5 para ganar. En el medio tendremos una cajita de texto que printeará los numeros a cada segundo que se actualizan, este numerito inicialmente será 0 de modo que a cada segundo los timers van o sumar o restar, utilizando Math random.

    El objetivo de este ejercicio es conseguir que utilizando timers el programa haga lo siguiente: 
        - A cada segundo el numerito va a cambiar como un loco, esto se logrará utilizando un timer que en el delay se dirá que es Math.Random.
        - Una vez ese numerito llegue a -5 o 5 se parará el timer y segun el resultado se dirá cual jugador ganó.
-->

    <script>
        //constantes que necesitamos determinar para mejor funcionalidad del programa.
        const TIMER1 = 1;
        const TIMER2 = 20;
        const MIN = 500;
        const MAX = 1000;

        //timer para determinar el resultado del juego.
        var timer = 0;

        //Primero creamos el generador de numeros random
        var player1 = setInterval(function () { temporizador(player1) }, getRandomInterval());
        var player2 = setInterval(function () { temporizador(player2) }, getRandomInterval());


        //PAra no repetir codigo, hacemos una funcion que genera el delay random que queremos añadir tanto a player1 como a player2.
        function getRandomInterval() {
            return Math.floor(Math.random() * (MAX - MIN) + MIN);
        }

        //Ahora la funcion que se llama en funcion del timer que definimos arriba.
        function temporizador(player) {
            if (player == "player1") {
                timer -= Math.floor(Math.random() * (3 - 1) + 1);
                document.getElementById("timerResult").value = temporizador;
            } else {
                timer += Math.floor(Math.random() * (3 - 1) + 1);
                document.getElementById("timerResult").value = temporizador;
            }
            document.getElementById("timerResult").value = timer;
            if (timer <= TIMER1) {
                document.getElementById("result").innerHTML = "Ganó jugador 1!";
                clearInterval(player1);
                clearInterval(player2);
            } else if (timer >= TIMER2) {
                document.getElementById("result").innerHTML = "Ganó jugador 2!";
                clearInterval(player1);
                clearInterval(player2);
            }
        }

    </script>
</body>

</html>